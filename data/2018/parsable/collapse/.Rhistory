cat(sprintf("%f"),elapsedDays)
}
else {
elapsedDays = 0
}
elapsedHours =  as.numeric(gsub(":.*","", as.character(elapsed)))
elapsedMins = as.numeric(gsub(":.*", "", as.character(elapsed)))
elapsedSecs = as.numeric(gsub(":.*", "", as.character(elapsed)))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452599])
elapsedToMinutes <- function(elapsed){
if(grepl(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", as.character(elapsed)))
cat(sprintf("%f"),elapsedDays)
}
else {
elapsedDays = 0
}
elapsedHours =  as.numeric(gsub(":.*","", as.character(elapsed)))
elapsedMins = as.numeric(gsub(":.*", "", as.character(elapsed)))
elapsedSecs = as.numeric(gsub(":.*", "", as.character(elapsed)))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452599])
year2018$Elapsed[1452599]
as.character(year2018$Elapsed[1452599])
elapsed = year2018$Elapsed[1452599]
(gsub("-.*", "", as.character(elapsed)))
as.numeric(gsub("-.*", "", as.character(elapsed)))
grepl(elapsed, "-")
grepl(elapsed, "+")
grepl(as.character(elapsed), "-")
as.character(elapsed)
grepl(as.character(elapsed), "-")
grep(as.character(elapsed), "-")
str_detect(as.character(elapsed), "-")
str_detect(as.character(elapsed), "+")
str_detect(as.character(elapsed), "la")
str_detect(as.character(elapsed), "-")
str_detect("08:00:00", "-")
elapsedToMinutes <- function(elapsed){
if(str_detect(as.character(elapsed), "-")){
elapsedDays = as.numeric(gsub("-.*", "", as.character(elapsed)))
cat(sprintf("%f"),elapsedDays)
}
else {
elapsedDays = 0
}
elapsedHours =  as.numeric(gsub(":.*","", as.character(elapsed)))
elapsedMins = as.numeric(gsub(":.*", "", as.character(elapsed)))
elapsedSecs = as.numeric(gsub(":.*", "", as.character(elapsed)))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452599])
elapsedToMinutes <- function(elapsed){
if(str_detect(as.character(elapsed), "-")){
elapsedDays = as.numeric(gsub("-.*", "", as.character(elapsed)))
cat(sprintf("%f",elapsedDays))
}
else {
elapsedDays = 0
}
elapsedHours =  as.numeric(gsub(":.*","", as.character(elapsed)))
elapsedMins = as.numeric(gsub(":.*", "", as.character(elapsed)))
elapsedSecs = as.numeric(gsub(":.*", "", as.character(elapsed)))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452599])
elapsed
as.numeric(gsub(":.*","", as.character(elapsed)))
gsub(":.*","", as.character(elapsed))
gsub(":.*","", as.character(elapsed))
gsub("*-:.*","", as.character(elapsed))
gsub("*-","", as.character(elapsed))
gsub(".-*","", as.character(elapsed))
gsub(".:","", as.character(elapsed))
as.character(elapsed)
gsub(".:","", as.character(elapsed))
gsub("..:","", as.character(elapsed))
gsub(".-..:","", as.character(elapsed))
gsub(".-..:*:..","", as.character(elapsed))
gsub(".-..:*:...","", as.character(elapsed))
gsub("..-*:..:..","", as.character(elapsed))
gsub(".-*:..:..","", as.character(elapsed))
gsub(":..:..","", as.character(elapsed))
gsub("*::..:..","", as.character(elapsed))
gsub("..-::..:..","", as.character(elapsed))
gsub("..-:*:..:..","", as.character(elapsed))
gsub(".-..:*:...","", as.character(elapsed))
gsub(".-..::...","", as.character(elapsed))
gsub(".-..:*:...","", as.character(elapsed))
gsub("..-..:*:...","", as.character(elapsed))
gsub(".-..:*:...","", as.character(elapsed))
elapse
elapsed
gsub("..-..:*:...","", as.character(elapsed))
gsub("..-","", as.character(elapsed))
gsub(".-","", as.character(elapsed))
as.numeric(gsub("-*", "", as.character(elapsed)))
as.numeric(gsub("-.*", "", as.character(elapsed)))
gsub(".-","", as.character(as.character(elapsed)))
elapsed =  gsub(".-","", as.character(elapsed))
elapsed
gsub(":.*","", as.character(elapsed))
as.numeric(gsub(":.*","", as.character(elapsed)))
gsub(".-..:*:...","", as.character(elapsed))
gsub("..:","", as.character(elapsed))
gsub("..::..","", as.character(elapsed))
gsub("..:[0-9]:..","", as.character(elapsed))
gsub(":..","", as.character(elapsed))
gsub([:","", as.character(elapsed))
gsub(":","", as.character(elapsed))
elapsed
date(elapsed)
date(as.factor(elapsed))
duration(elapsed)
elapsed
as.duration(elapsed)
hms(elapsed)
duration(hms(elapsed))
hms(elapsed)
hour(hms(elapsed))
minute(hms(elapsed))
second(hms(elapsed))
elapsed = "1-09:26:17"
second(dhms(elapsed))
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-*", "", elapsed))
elapsed =  gsub("*-","", elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  hour(elapsed)
elapsedMins = minute(elapsed)
elapsedSecs = second(elapsed)
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
year2018$Elapsed[1452599]
elapsedToMinutes(year2018$Elapsed[1452599])
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-*", "", elapsed))
elapsed =  gsub("*-","", elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452599])
elapsed  = year2018$Elapsed[1452599]
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-*", "", elapsed))
elapsed =  gsub("*-","", elapsed)
}
gsub("-*", "", elapsed)
gsub("*-","", elapsed)
gsub("*.-","", elapsed)
gsub("-*", "", elapsed)
gsub("-.", "", elapsed)
gsub("-", "", elapsed)
gsub("*-", "", elapsed)
gsub(".-", "", elapsed)
gsub("..-", "", elapsed)
gsub("[1-9]-", "", elapsed)
gsub("[:digit:]-", "", elapsed)
gsub(".*-", "", elapsed)
elapsed
elapsed  = year2018$Elapsed[1452599]
elapsed
elapsed = as.character(elapsed)
elapsed
str_detect(elapsed, "-")
as.numeric(gsub("-*", "", elapsed))
gsub("-*", "", elapsed)
elapsed
gsub("-.*", "", elapsed)
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsedDays
elapsed = "22-09:26:17"
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsedDays
gsub("*.-","", elapsed)
gsub("*-","", elapsed)
gsub("*..-","", elapsed)
elapsed
gsub("^-","", elapsed)
gsub("*^-","", elapsed)
gsub("^.-","", elapsed)
gsub("..-","", elapsed)
gsub("[*]-","", elapsed)
x <- 'aabb.ccdd'
sub('.*', '', x)
sub('*', '', x)
sub('*.', '', x)
sub('*\\.', '', x)
sub('.*\\.', '', x)
sub('.*\\-', '', elapsed)
elapsed
elapsed = "2-09:26:17"
sub('.*\\-', '', elapsed)
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %f, elapsedHours = %f , elapsedMins = %f , elapsedSecs = %f , secElapsed = %f , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes("1-00:00:00")
60 * 24
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %d ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes("1-00:00:00")
elapsedToMinutes("1-00:00:10")
elapsedToMinutes("1-00:00:00")
elapsedToMinutes("1-00:00:10")
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes("1-00:00:10")
elapsedToMinutes("1-00:00:10") / 60
round(elapsedToMinutes("1-00:00:10") / 60)
elapsedToMinutes("22-00:00:10") / 60
elapsedToMinutes("22-00:00:10") / 60 / 24
round(elapsedToMinutes("22-00:00:10") / 60 ) / 24
year[1:10,]$Elapsed
year2018[1:10,]$Elapsed
elapsedToMinutes(year2018[1:10,]$Elapsed)
# functions
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
#cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018[1:10,]$Elapsed)
year2018[1:10,]$Elapsed
elapsedToMinutes(year2018[1:10,]$Elapsed)
sum(elapsedToMinutes(year2018[1:10,]$Elapsed))
elapsedToMinutes(year2018[1:10,]$Elapsed)
# functions
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
#cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018[1:1,]$Elapsed)
elapsedToMinutes(year2018[1:2,]$Elapsed)
elapsedToMinutes(year2018$Elapsed)
elapsedToMinutes(year2018[1452598:145259,]$Elapsed)
elapsedToMinutes(year2018[1452598:1452599,]$Elapsed)
24*3600 + 12*3600 + 56
12*3600 + 56
elapsedToMinutes(year2018[1452598:1452599,]$Elapsed)
typeof(year2018$Elapsed)
typeof(year2018$Elapsed[1])
lapply(year2018[1452598:1452599,]$Elapsed, elapsedToMinutes)
year2018$Elapsed[1452598]
elapsedToMinutes(year2018$Elapsed[1452598])
# functions
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452598])
elapsed = year2018$Elapsed[1452598]
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
elapsed
elapsed = year2018$Elapsed[1452598]
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
elapsed
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
elapsedDays
elapsedHours
elapsedMins
elapsedSecs
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
secElapsed
24 + 13
37 * 60
secElapsed / 60
# functions
elapsedToMinutes <- function(elapsed){
elapsed = as.character(elapsed)
if(str_detect(elapsed, "-")){
elapsedDays = as.numeric(gsub("-.*", "", elapsed))
elapsed =  sub('.*\\-', '', elapsed)
}
else {
elapsedDays = 0
}
elapsed = hms(elapsed)
elapsedHours =  as.numeric(hour(elapsed))
elapsedMins = as.numeric(minute(elapsed))
elapsedSecs = as.numeric(second(elapsed))
secElapsed = (24*3600*elapsedDays) + (3600*elapsedHours) + (60*elapsedMins) + elapsedSecs
minElapsed = secElapsed / 60
#cat(sprintf("elapsedDays = %d, elapsedHours = %d , elapsedMins = %d , elapsedSecs = %d , secElapsed = %d , minElapsed = %f ",elapsedDays, elapsedHours, elapsedMins, elapsedSecs, secElapsed, minElapsed))
return(minElapsed)
}
elapsedToMinutes(year2018$Elapsed[1452598])
elapsedToMinutes(year2018$Elapsed[1452598]) / 60
elapsedToMinutes(year2018$Elapsed[1452598]) / 60 / 24
0.53 * 24
year2018$ElapsedMinutes = lapply(year2018$Elapsed, elapsedToMinutes)
year2018$ElapsedMinutes[1:10,] = lapply(year2018$Elapsed[1:10,], elapsedToMinutes)
lapply(year2018$Elapsed[1:10,], elapsedToMinutes)
lapply(year2018[1:10,]$Elapsed, elapsedToMinutes)
sum(lapply(year2018[1:10,]$Elapsed, elapsedToMinutes))
sum(c(lapply(year2018[1:10,]$Elapsed, elapsedToMinutes))
)
lapply(year2018[1:10,]$Elapsed, elapsedToMinutes)
year2018$ElapsedMinutes = 0
View(year2018)
year2018[1:10,]$ElapsedMinutes = lapply(year2018[1:10,]$Elapsed, elapsedToMinutes)
year2018$ElapsedMinutes = lapply(year2018$Elapsed, elapsedToMinutes)
table(year2018$Account)
unique(year2018$Account)
accounts = unique(year2018$Account)
accounts
for i in 1:length(accounts) cat(sprintf("%s" , accounts[i]))
year2018$ElapsedMinutes = lapply(year2018$Elapsed, elapsedToMinutes)
year2018$ElapsedMinutes = year2018$ElapsedMinutes * year2018$AllocCPUS
unique(year2018$Account)
table(year2018$Account)
table(year2018$Account,year2018$User)
table(year2018$Account,year2018$ElapsedMinutes)
unique(year2018$Account)
accounts = unique(year2018$Account)
accounts
accounts =    accounts[!accounts %in% root]
accounts =    accounts[!accounts %in% "root"]
accounts
for (i in accounts) {
cat(sprintf("%s",accounts[i]))
}
for (i in accounts) {
for (i in accounts) {
cat(sprintf("%s",as.character(accounts[i])))
}
}
accounts
for (i in accounts) {
accounts
}
for (i in accounts) {
accounts
}
accounts
accounts[1]
for (i in 1:lengtgh(accounts)) {
accounts[i]
}
for (i in 1:lentgh(accounts)) {
accounts[i]
}
for (i in 1:length(accounts)) {
accounts[i]
}
for (i in 1:length(accounts)) {
accounts[i]
}
accounts[2]
for (i in 1:length(accounts)) {
cat(accounts[i])
}
for (i in 1:length(accounts)) {
cat(accounts[i])
}
cat(accounts[i])
cat(accounts[1])
accounts
accounts[1]
cat(accounts[1])
for (i in 1:length(accounts)) {
accounts[i]
}
for (i in 1:length(accounts)) {
accounts[i]
}
accounts[i]
names(accounts)
names[i](accounts) = accounts[i]
